%% Print Trajectories
close all
clear all

addpath(genpath('../../..'));

fraction = 0.1;
step = floor(1/fraction);

%% plot trajectories of expert
csv = csvread('/tmp/ReLe/lqr/EMIRL/TrajectoriesExpert.txt');
traj = readDataset(csv);

figure(2)
title('Expert')
xlabel('x1')
ylabel('x2')
zlabel('x3')

hold on;

for episode = 1:step:size(traj,1)        
    plot3(traj(episode).x(:, 1), traj(episode).x(:,2), traj(episode).x(:, 3));
end

axis([0, 20, 0, 20])
zlim([0 20])

%% plot Parameters of expert
theta = load('/tmp/ReLe/lqr/EMIRL/Theta.txt' , '-ascii');
figure(3)
hold on;
plot3(theta(1, ~any(theta > 0, 1)), theta(2, ~), theta(3, :), 'xr');
plot3(theta(1, any(theta > 0, 1)), theta(2, any(theta > 0, 1)), theta(3, any(theta > 0, 1)), 'ob');

plotPlane([0, 0, 0], [1, 0, 0], -3:3:3, -3:3:3)
plotPlane([0, 0, 0], [0, 1, 0], -3:3:3, -3:3:3)
plotPlane([0, 0, 0], [0, 0, 1],  -3:3:3, -3:3:3)
plot3(-3, -3, -3, 'xm');
axis equal;

outliers = sum(any(theta > 0, 1));
total = size(theta, 2);

ratio = (total-outliers) / total * 100;

disp(ratio)


